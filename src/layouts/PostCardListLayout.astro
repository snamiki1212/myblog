---
import BaseLayout from "./BaseLayout.astro";
import type { CollectionEntry } from "astro:content";
import { default as PostCardList } from "../components/PostCardList.astro";
import { default as PostCardListHeader } from "../components/PostCardListHeader.astro";
import { buildTransactionName } from "../utils/transition";

type BlogEntry = CollectionEntry<"blog">;

interface Props {
  meta: string;
  metaType: "tag" | "category";
  entries: BlogEntry[];
  total: number;
}
const { entries, meta, metaType, total } = Astro.props;
const header = `${metaType}: #${meta}(${total})`;
---

<BaseLayout isCanonical>
  <main class="grid gap-4 max-w-screen-lg w-full m-auto">
    <div class="mt-8"></div>
    <PostCardListHeader
      transactionName={buildTransactionName.postCardListHeader(meta)}
    >
      <span slot="title">{header}</span>
    </PostCardListHeader>
    <PostCardList entries={entries} />
  </main>
</BaseLayout>
